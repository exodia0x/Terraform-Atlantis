version: 3
parallel_plan: true
parallel_apply: true

################ PROJECTS ###################
projects:
  - name: DEV
    workspace: dev
    workflow: Dev
    dir: Environment/DEV
    autoplan:
      when_modified: ["*.tf", "*.tfvars", "../*"]
      enabled: true

################ WORKFLOWS ###################
workflows:
  Dev:
    plan:
      steps:
      - init
      - plan:
          extra_args: ["-var-file=main.tfvars"]
    apply:
      steps:
        - apply:
            extra_args: ["-var-file=main.tfvars"]